{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/braydenarcher/Desktop/Full-Stack Javascript/hw4-CrackingOne933/src/App.js\";\nimport { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport * as CoursesAPI from \"./CoursesAPI.js\";\n\nrequire(\"dotenv\").config({\n  path: '../.env'\n});\n\nconst JHED = process.env.JHED || \"barcher9\";\nconst BASE_URL = process.env.BASE_URL || \"https://courses-api-hw4.herokuapp.com\";\nconst headers = {\n  Authorization: JHED\n};\nconst sample = {\n  term: \"test\",\n  number: \"601.220\",\n  status: \"taken\",\n  title: \"test\"\n};\n\nfunction CourseCard(props) {\n  const {\n    course,\n    color\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"course\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-top\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"course-logo\",\n        children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n          x: 0,\n          y: 0,\n          width: 128,\n          height: 128,\n          fill: color\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: \"50%\",\n          y: \"35%\",\n          textAnchor: \"middle\",\n          dominantBaseline: \"middle\",\n          fill: \"white\",\n          fontFamily: \"monospace\",\n          fontSize: \"2.2em\",\n          children: [/*#__PURE__*/_jsxDEV(\"tspan\", {\n            x: \"50%\",\n            dy: \"0\",\n            children: course.number.split(\".\")[0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"tspan\", {\n            x: \"50%\",\n            dy: \"1.2em\",\n            children: course.number.split(\".\")[1]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"course-status-changer\",\n        children: /*#__PURE__*/_jsxDEV(CourseControl, {\n          course: course,\n          props: props,\n          onCourseUpdate: props.onCourseUpdate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-title\",\n      children: course.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-term\",\n      children: course.term\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 11\n  }, this);\n}\n\n_c = CourseCard;\n\nfunction CourseCategory(props) {\n  const {\n    status,\n    color\n  } = props;\n  const courses = props.courses.filter(course => {\n    return course.status === status;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"dashboard-title\",\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-courses\",\n      children: /*#__PURE__*/_jsxDEV(\"ol\", {\n        className: \"courses-grid\",\n        children: courses.map((course, index) => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(CourseCard, {\n              course: course,\n              color: color,\n              props: props,\n              onCourseUpdate: props.onCourseUpdate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 19\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 24\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 11\n  }, this);\n}\n\n_c2 = CourseCategory;\n\nfunction CourseControl(props) {\n  const {\n    course\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"select\", {\n    value: course.status,\n    onChange: e => {\n      course.status = e.target.value;\n      props.onCourseUpdate(course);\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"move\",\n      disabled: true,\n      children: \"Move to...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"enrolled\",\n      children: \"Currently Enrolled\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"interested\",\n      children: \"Want to Take\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"taken\",\n      children: \"Already Took\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"none\",\n      children: \"None\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 11\n  }, this);\n}\n\n_c3 = CourseControl;\n\nclass CourseApp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onCourseUpdate = course => {\n      const {\n        status,\n        _id\n      } = course;\n\n      if (status === \"none\") {\n        return;\n      }\n\n      const data = {\n        status: status\n      };\n      axios.patch(`${BASE_URL}/api/courses/${_id}`, {\n        headers: {\n          Authorization: JHED\n        },\n        data: {\n          status: status\n        }\n      });\n    };\n\n    this.addCourse = course => {\n      /*CoursesAPI.add(course).then((c) =>\n          this.setState({\n            courses: this.state.courses.concat(c),\n          })\n      );*/\n      CoursesAPI.add(course).then(c => {\n        if (c === null) {\n          alert(\"Error adding Course\");\n          return;\n        }\n\n        this.setState({\n          courses: this.state.courses.concat(c)\n        });\n      });\n    };\n\n    this.removeCourse = course => {\n      /*this.setState((state) => {\n        return {\n          courses: state.courses.filter((c) => c._id !== course._id),\n        };\n      });*/\n      CoursesAPI.remove(course._id).then(r => {\n        if (r === null) {\n          alert(\"Error removing course\");\n        }\n      });\n    };\n\n    this.state = {\n      /**\n       * TODO: Instead of using this state variable to keep track of which page\n       *  we're on, use the URL in the browser's address bar (i.e. react-router)\n       */\n      showSearchPage: false,\n      courses: [],\n      color: \"#a05dac\",\n      statuses: [\"taken\", \"enrolled\", \"interested\"],\n      reload: false\n    };\n  }\n\n  componentDidMount() {\n    CoursesAPI.getAll().then(courses => this.setState({\n      courses\n    }));\n  }\n\n  render() {\n    const {\n      courses,\n      color,\n      statuses\n    } = this.state;\n    return (\n      /*#__PURE__*/\n\n      /**\n       * TODO: Refactor this code to reusable React components\n       */\n      _jsxDEV(\"div\", {\n        className: \"app\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"list-courses\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"list-courses-title\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"My Courses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"list-courses-content\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: statuses.map((status, index) => {\n                return /*#__PURE__*/_jsxDEV(CourseCategory, {\n                  courses: courses,\n                  color: color,\n                  status: status,\n                  onCourseUpdate: this.onCourseUpdate\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 29\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"open-search\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => this.setState({\n                showSearchPage: true\n              }),\n              children: \"Add a course\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => this.addCourse(sample),\n              children: \"Add sample\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => this.removeCourse(sample),\n              children: \"Add sample\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 7\n      }, this)\n    );\n  }\n\n}\n\nexport default CourseApp;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"CourseCard\");\n$RefreshReg$(_c2, \"CourseCategory\");\n$RefreshReg$(_c3, \"CourseControl\");","map":{"version":3,"sources":["/Users/braydenarcher/Desktop/Full-Stack Javascript/hw4-CrackingOne933/src/App.js"],"names":["Component","axios","CoursesAPI","require","config","path","JHED","process","env","BASE_URL","headers","Authorization","sample","term","number","status","title","CourseCard","props","course","color","split","onCourseUpdate","CourseCategory","courses","filter","map","index","CourseControl","e","target","value","CourseApp","constructor","_id","data","patch","addCourse","add","then","c","alert","setState","state","concat","removeCourse","remove","r","showSearchPage","statuses","reload","componentDidMount","getAll","render"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport * as CoursesAPI from \"./CoursesAPI.js\";\n\nrequire(\"dotenv\").config({path:'../.env'});\nconst JHED = process.env.JHED || \"barcher9\";\nconst BASE_URL = process.env.BASE_URL || \"https://courses-api-hw4.herokuapp.com\";\nconst headers = {\n  Authorization: JHED,\n};\n\nconst sample = {\n  term: \"test\",\n  number: \"601.220\",\n  status: \"taken\",\n  title: \"test\"\n}\n\nfunction CourseCard(props) {\n  const { course, color } = props;\n  return (<div className=\"course\">\n    <div className=\"course-top\">\n      <svg className=\"course-logo\">\n        <rect\n            x={0}\n            y={0}\n            width={128}\n            height={128}\n            fill={color}\n        />\n        <text\n            x=\"50%\"\n            y=\"35%\"\n            textAnchor=\"middle\"\n            dominantBaseline=\"middle\"\n            fill=\"white\"\n            fontFamily=\"monospace\"\n            fontSize=\"2.2em\"\n        >\n          <tspan x=\"50%\" dy=\"0\">\n            {course.number.split(\".\")[0]}\n          </tspan>\n          <tspan x=\"50%\" dy=\"1.2em\">\n            {course.number.split(\".\")[1]}\n          </tspan>\n        </text>\n      </svg>\n      <div className=\"course-status-changer\">\n        <CourseControl course={course} props={props} onCourseUpdate={props.onCourseUpdate}/>\n      </div>\n    </div>\n    <div className=\"course-title\">\n      {course.title}\n    </div>\n    <div className=\"course-term\">{course.term}</div>\n  </div>);\n}\n\nfunction CourseCategory(props) {\n  const { status, color } = props;\n  const courses = props.courses.filter(\n      (course) => {\n        return course.status === status;\n      }\n  )\n  return (<div className=\"dashboard\">\n    <h2 className=\"dashboard-title\">{status}</h2>\n    <div className=\"dashboard-courses\">\n      <ol className=\"courses-grid\">\n        {\n          courses.map(\n              (course, index) => {\n                return <li key={index}>\n                  <CourseCard course={course} color={color} props={props} onCourseUpdate={props.onCourseUpdate}/>\n                </li>\n              }\n          )\n        }\n      </ol>\n    </div>\n  </div>);\n}\n\nfunction CourseControl(props) {\n  const { course } = props;\n  return (<select value={course.status} onChange={ (e) => {\n    course.status = e.target.value;\n    props.onCourseUpdate(course);\n  }}>\n    <option value=\"move\" disabled>\n      Move to...\n    </option>\n    <option value=\"enrolled\">\n      Currently Enrolled\n    </option>\n    <option value=\"interested\">Want to Take</option>\n    <option value=\"taken\">Already Took</option>\n    <option value=\"none\">None</option>\n  </select>);\n}\n\nclass CourseApp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      /**\n       * TODO: Instead of using this state variable to keep track of which page\n       *  we're on, use the URL in the browser's address bar (i.e. react-router)\n       */\n      showSearchPage: false,\n      courses: [\n      ],\n      color: \"#a05dac\",\n      statuses: [\"taken\", \"enrolled\", \"interested\"],\n      reload: false,\n    };\n  }\n\n   onCourseUpdate = (course) => {\n    const { status, _id } = course;\n    if (status === \"none\") {\n      return;\n    }\n    const data = {\n      status: status\n    };\n    axios.patch(`${BASE_URL}/api/courses/${_id}`, {\n      headers: {\n        Authorization: JHED\n      },\n      data: {\n        status: status\n      }\n    });\n  }\n\n  addCourse = (course) => {\n    /*CoursesAPI.add(course).then((c) =>\n        this.setState({\n          courses: this.state.courses.concat(c),\n        })\n    );*/\n    CoursesAPI.add(course).then((c) => {\n      if (c === null) {\n        alert(\"Error adding Course\");\n        return;\n      }\n      this.setState({\n        courses: this.state.courses.concat(c)\n      });\n    });\n\n\n  };\n\n  removeCourse = (course) => {\n    /*this.setState((state) => {\n      return {\n        courses: state.courses.filter((c) => c._id !== course._id),\n      };\n    });*/\n    CoursesAPI.remove(course._id).then(r => {\n      if (r === null) {\n        alert(\"Error removing course\");\n      }\n    });\n  };\n\n  componentDidMount() {\n    CoursesAPI.getAll().then((courses) => this.setState({ courses }));\n  }\n\n  render() {\n    const { courses, color, statuses}  = this.state;\n    return (\n      /**\n       * TODO: Refactor this code to reusable React components\n       */\n      <div className=\"app\">\n        {\n          <div className=\"list-courses\">\n            <div className=\"list-courses-title\">\n              <h1>My Courses</h1>\n            </div>\n            <div className=\"list-courses-content\">\n              <div>\n                {\n                  statuses.map(\n                      (status, index) => {\n                        return (\n                            <CourseCategory\n                                courses={courses}\n                                color={color}\n                                status={status}\n                                onCourseUpdate={this.onCourseUpdate}\n                                key={index}/>);\n                      }\n                  )\n                }\n              </div>\n            </div>\n            <div className=\"open-search\">\n              <button onClick={() => this.setState({ showSearchPage: true })}>\n                Add a course\n              </button>\n              <button onClick={() => this.addCourse(sample)}>\n                Add sample\n              </button>\n              <button onClick={() => this.removeCourse(sample)}>\n                Add sample\n              </button>\n            </div>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nexport default CourseApp;\n"]},"metadata":{},"sourceType":"module"}