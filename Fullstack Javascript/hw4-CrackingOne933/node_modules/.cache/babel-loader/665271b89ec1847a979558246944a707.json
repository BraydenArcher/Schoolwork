{"ast":null,"code":"import _classCallCheck from\"/Users/braydenarcher/Desktop/Full-Stack Javascript/hw4-CrackingOne933/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/braydenarcher/Desktop/Full-Stack Javascript/hw4-CrackingOne933/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/braydenarcher/Desktop/Full-Stack Javascript/hw4-CrackingOne933/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/braydenarcher/Desktop/Full-Stack Javascript/hw4-CrackingOne933/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from\"react\";import{Route,Switch}from\"react-router\";import\"./App.css\";import*as CoursesAPI from\"./CoursesAPI.js\";import SearchPage from\"./Search\";import{Link}from\"react-router-dom\";import CourseCategory from\"./CourseCategory\";var statuses=[\"enrolled\",\"interested\",\"taken\"];var CourseApp=/*#__PURE__*/function(_Component){_inherits(CourseApp,_Component);var _super=_createSuper(CourseApp);function CourseApp(){var _this;_classCallCheck(this,CourseApp);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={courses:[]};_this.onCourseUpdate=function(course,status){//If a course's status is changed\nvar _id=course._id;//Get the courses id\nif(status===\"none\"){//If the status is none then\n_this.removeCourse(course);//Remove the course from dashboard and API\nreturn;//and exit\n}CoursesAPI.updateStatus(_id,status).then(function(c){//Update the status in the API\nif(c===null){//If API failed just return\nreturn;}_this.setState(function(state){//Otherwise add the returned course to the state\nreturn{courses:state.courses.filter(function(c){return c._id!==course._id;})//by removing the course from before\n};},function(){_this.setState({courses:_this.state.courses.concat(c)//and adding a new one\n// (because its easy and idk how to directly change the status)\n});});});};_this.addCourse=function(course){//Add a course\nCoursesAPI.add(course).then(function(c){//Use API to add it\nif(c===null){//If it failed just return\nreturn;}_this.setState({//Set state with new received course locally\ncourses:_this.state.courses.concat(c)});});};_this.addCourseLocally=function(course){//A method for JUST adding the course locally, for outside use\n_this.setState({courses:_this.state.courses.concat(course)});};_this.removeCourse=function(course){//Remove a course\n_this.setState(function(state){//Remove locally\nreturn{courses:state.courses.filter(function(c){return c._id!==course._id;})};});CoursesAPI.remove(course._id).then(function(r){});//Then remove it from the API\n};_this.removeCourseLocally=function(course){//A method for JUST removing the course locally, for outside use\n_this.setState(function(state){return{courses:state.courses.filter(function(c){return c._id!==course._id;})};});};_this.getCourses=function(){//Just returns the courses from here, for outside use\nreturn _this.state.courses;};return _this;}_createClass(CourseApp,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;//On mount update courses with database\nCoursesAPI.getAll().then(function(courses){return _this2.setState({courses:courses});});}},{key:\"render\",value:function render(){var _this3=this;var courses=this.state.courses;return/*#__PURE__*/ (/**\n       * TODO: Refactor this code to reusable React components\n       */_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"list-courses\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"list-courses-title\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"My Courses\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"list-courses-content\",children:/*#__PURE__*/_jsx(\"div\",{children:statuses.map(//Map each status to a section\nfunction(status,index){return/*#__PURE__*/_jsx(CourseCategory//Return a course category for each status\n,{courses:courses//feed the courses\n,status:status//feed the status\n,onCourseUpdate:_this3.onCourseUpdate//Feed the update method\n},index);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"open-search\",children:/*#__PURE__*/_jsx(Link,{to:\"/search\",children:/*#__PURE__*/_jsx(\"button\",{})})})]})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/search\",children:/*#__PURE__*/_jsx(SearchPage//Create a search page\n,{onCourseUpdate:this.onCourseUpdate//function to update status here\n,getCourses:this.getCourses//function to get courses\n,addCourse:this.addCourseLocally//function to add to local courses here\n,removeCourse:this.removeCourseLocally//function to remove local courses here\n})})]})}));}}]);return CourseApp;}(Component);export default CourseApp;","map":{"version":3,"sources":["/Users/braydenarcher/Desktop/Full-Stack Javascript/hw4-CrackingOne933/src/App.js"],"names":["React","Component","Route","Switch","CoursesAPI","SearchPage","Link","CourseCategory","statuses","CourseApp","state","courses","onCourseUpdate","course","status","_id","removeCourse","updateStatus","then","c","setState","filter","concat","addCourse","add","addCourseLocally","remove","r","removeCourseLocally","getCourses","getAll","map","index"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Route, Switch } from \"react-router\";\nimport \"./App.css\";\nimport * as CoursesAPI from \"./CoursesAPI.js\";\nimport SearchPage from \"./Search\";\nimport { Link } from \"react-router-dom\";\nimport CourseCategory from \"./CourseCategory\";\n\nconst statuses = [\"enrolled\", \"interested\", \"taken\"]\nclass CourseApp extends Component {\n  state = {\n    courses: [\n    ],\n  };\n\n  onCourseUpdate = (course, status) => { //If a course's status is changed\n    const { _id } = course; //Get the courses id\n    if (status === \"none\") {  //If the status is none then\n      this.removeCourse(course); //Remove the course from dashboard and API\n      return; //and exit\n    }\n    CoursesAPI.updateStatus(_id, status).then(c => { //Update the status in the API\n      if (c === null) { //If API failed just return\n        return;\n      }\n      this.setState((state) => { //Otherwise add the returned course to the state\n        return {\n          courses: state.courses.filter((c) => c._id !== course._id), //by removing the course from before\n        };\n      }, () => {\n        this.setState({\n          courses: this.state.courses.concat(c) //and adding a new one\n          // (because its easy and idk how to directly change the status)\n        });\n      });\n\n    });\n  }\n\n  addCourse = (course) => { //Add a course\n    CoursesAPI.add(course).then((c) => { //Use API to add it\n      if (c === null) { //If it failed just return\n        return;\n      }\n      this.setState({ //Set state with new received course locally\n        courses: this.state.courses.concat(c)\n      });\n    });\n  };\n\n  addCourseLocally = (course) => { //A method for JUST adding the course locally, for outside use\n    this.setState({\n      courses: this.state.courses.concat(course)\n    });\n  }\n\n  removeCourse = (course) => { //Remove a course\n    this.setState((state) => { //Remove locally\n      return {\n        courses: state.courses.filter((c) => c._id !== course._id),\n      };\n    });\n    CoursesAPI.remove(course._id).then(r => {}); //Then remove it from the API\n  };\n\n  removeCourseLocally = (course) => { //A method for JUST removing the course locally, for outside use\n    this.setState((state) => {\n      return {\n        courses: state.courses.filter((c) => c._id !== course._id),\n      };\n    });\n  }\n\n  componentDidMount() { //On mount update courses with database\n    CoursesAPI.getAll().then((courses) => this.setState({ courses }));\n  }\n\n  getCourses = () => { //Just returns the courses from here, for outside use\n    return this.state.courses;\n  }\n\n\n  render() {\n    const { courses }  = this.state;\n    return (\n      /**\n       * TODO: Refactor this code to reusable React components\n       */\n      <div className=\"app\">\n        {\n          <Switch>\n            <Route exact path=\"/\">\n              <div className=\"list-courses\">\n                <div className=\"list-courses-title\">\n                  <h1>My Courses</h1>\n                </div>\n                <div className=\"list-courses-content\">\n                  <div>\n                    {\n                      statuses.map( //Map each status to a section\n                          (status, index) => {\n                            return (\n                                <CourseCategory //Return a course category for each status\n                                    courses={courses} //feed the courses\n                                    status={status} //feed the status\n                                    onCourseUpdate={this.onCourseUpdate} //Feed the update method\n                                    key={index} //Feed index for logistic reasons\n                                />);\n                          }\n                      )\n                    }\n                  </div>\n                </div>\n                <div className=\"open-search\">\n                  <Link to=\"/search\">\n                    <button/>\n                  </Link>\n                </div>\n              </div>\n            </Route>\n            <Route exact path=\"/search\">\n                <SearchPage //Create a search page\n                    onCourseUpdate={this.onCourseUpdate} //function to update status here\n                    getCourses={this.getCourses} //function to get courses\n                    addCourse={this.addCourseLocally} //function to add to local courses here\n                    removeCourse={this.removeCourseLocally} //function to remove local courses here\n                />\n            </Route>\n          </Switch>\n        }\n      </div>\n    );\n  }\n}\n\nexport default CourseApp;\n"]},"metadata":{},"sourceType":"module"}