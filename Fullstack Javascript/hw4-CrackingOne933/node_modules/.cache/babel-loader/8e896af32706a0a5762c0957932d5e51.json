{"ast":null,"code":"import _classCallCheck from\"/Users/braydenarcher/Desktop/Full-Stack Javascript/hw4-CrackingOne933/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/braydenarcher/Desktop/Full-Stack Javascript/hw4-CrackingOne933/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/braydenarcher/Desktop/Full-Stack Javascript/hw4-CrackingOne933/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/braydenarcher/Desktop/Full-Stack Javascript/hw4-CrackingOne933/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from\"react\";import{Route,Switch}from\"react-router\";import\"./App.css\";import*as CoursesAPI from\"./CoursesAPI.js\";import SearchPage from\"./Search\";import{Link}from\"react-router-dom\";import CourseCategory from\"./CourseCategory\";/*const sample = [\n  {\n    \"status\": \"taken\",\n    \"title\": \"Intermediate Programming\",\n    \"number\": \"601.220\",\n    \"term\": \"Spring 2020\"\n  },\n  {\n    \"status\": \"interested\",\n    \"title\": \"Object Oriented Software Engineering\",\n    \"number\": \"601.421\",\n    \"term\": \"Spring 2021\"\n  },\n  {\n    \"status\": \"taken\",\n    \"title\": \"Data Structures\",\n    \"number\": \"601.226\",\n    \"term\": \"Spring 2020\"\n  },\n  {\n    \"status\": \"enrolled\",\n    \"title\": \"Full-Stack JavaScript\",\n    \"number\": \"601.280\",\n    \"term\": \"Fall 2020\"\n  },\n  {\n    \"status\": \"taken\",\n    \"title\": \"Gateway Computing: JAVA\",\n    \"number\": \"500.112\",\n    \"term\": \"Fall 2019\"\n  }\n];\nsample.forEach((course) => {\n  CoursesAPI.add(course).then(r => console.log(r));\n});*/var CourseApp=/*#__PURE__*/function(_Component){_inherits(CourseApp,_Component);var _super=_createSuper(CourseApp);function CourseApp(){var _this;_classCallCheck(this,CourseApp);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={/**\n     * TODO: Instead of using this state variable to keep track of which page\n     *  we're on, use the URL in the browser's address bar (i.e. react-router)\n     */showSearchPage:false,courses:[],statuses:[\"enrolled\",\"interested\",\"taken\"],reload:false};_this.onCourseUpdate=function(course,status){var _id=course._id;if(status===\"none\"){_this.removeCourse(course);return;}CoursesAPI.updateStatus(_id,status).then(function(c){if(c===null){return;}_this.setState(function(state){return{courses:state.courses.filter(function(c){return c._id!==course._id;})};},function(){_this.setState({courses:_this.state.courses.concat(c)});});});};_this.addCourse=function(course){CoursesAPI.add(course).then(function(c){if(c===null){alert(\"Error adding Course\");return;}_this.setState({courses:_this.state.courses.concat(c)});});};_this.addCourseLocally=function(course){_this.setState({courses:_this.state.courses.concat(course)});};_this.removeCourse=function(course){_this.setState(function(state){return{courses:state.courses.filter(function(c){return c._id!==course._id;})};});CoursesAPI.remove(course._id).then(function(r){if(r===null){alert(\"Error removing course\");}});};_this.removeCourseLocally=function(course){_this.setState(function(state){return{courses:state.courses.filter(function(c){return c._id!==course._id;})};});};_this.getCourses=function(){//console.log(\"Returning\", this.state.courses);\nreturn _this.state.courses;};return _this;}_createClass(CourseApp,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;CoursesAPI.getAll().then(function(courses){return _this2.setState({courses:courses});});}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,courses=_this$state.courses,statuses=_this$state.statuses;return/*#__PURE__*/ (/**\n       * TODO: Refactor this code to reusable React components\n       */_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"list-courses\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"list-courses-title\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"My Courses\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"list-courses-content\",children:/*#__PURE__*/_jsx(\"div\",{children:statuses.map(function(status,index){return/*#__PURE__*/_jsx(CourseCategory,{courses:courses,status:status,onCourseUpdate:_this3.onCourseUpdate},index);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"open-search\",children:/*#__PURE__*/_jsx(Link,{to:\"/search\",children:/*#__PURE__*/_jsx(\"button\",{})})})]})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/search\",children:/*#__PURE__*/_jsx(SearchPage,{onCourseUpdate:this.onCourseUpdate,getCourses:this.getCourses,addCourse:this.addCourseLocally,removeCourse:this.removeCourseLocally})})]})}));}}]);return CourseApp;}(Component);export default CourseApp;","map":{"version":3,"sources":["/Users/braydenarcher/Desktop/Full-Stack Javascript/hw4-CrackingOne933/src/App.js"],"names":["React","Component","Route","Switch","CoursesAPI","SearchPage","Link","CourseCategory","CourseApp","state","showSearchPage","courses","statuses","reload","onCourseUpdate","course","status","_id","removeCourse","updateStatus","then","c","setState","filter","concat","addCourse","add","alert","addCourseLocally","remove","r","removeCourseLocally","getCourses","getAll","map","index"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Route, Switch } from \"react-router\";\nimport \"./App.css\";\nimport * as CoursesAPI from \"./CoursesAPI.js\";\nimport SearchPage from \"./Search\";\nimport { Link } from \"react-router-dom\";\nimport CourseCategory from \"./CourseCategory\";\n\n/*const sample = [\n  {\n    \"status\": \"taken\",\n    \"title\": \"Intermediate Programming\",\n    \"number\": \"601.220\",\n    \"term\": \"Spring 2020\"\n  },\n  {\n    \"status\": \"interested\",\n    \"title\": \"Object Oriented Software Engineering\",\n    \"number\": \"601.421\",\n    \"term\": \"Spring 2021\"\n  },\n  {\n    \"status\": \"taken\",\n    \"title\": \"Data Structures\",\n    \"number\": \"601.226\",\n    \"term\": \"Spring 2020\"\n  },\n  {\n    \"status\": \"enrolled\",\n    \"title\": \"Full-Stack JavaScript\",\n    \"number\": \"601.280\",\n    \"term\": \"Fall 2020\"\n  },\n  {\n    \"status\": \"taken\",\n    \"title\": \"Gateway Computing: JAVA\",\n    \"number\": \"500.112\",\n    \"term\": \"Fall 2019\"\n  }\n];\nsample.forEach((course) => {\n  CoursesAPI.add(course).then(r => console.log(r));\n});*/\n\nclass CourseApp extends Component {\n  state = {\n    /**\n     * TODO: Instead of using this state variable to keep track of which page\n     *  we're on, use the URL in the browser's address bar (i.e. react-router)\n     */\n    showSearchPage: false,\n    courses: [\n    ],\n    statuses: [\"enrolled\", \"interested\", \"taken\"],\n    reload: false,\n  };\n\n  onCourseUpdate = (course, status) => {\n    const { _id } = course;\n    if (status === \"none\") {\n      this.removeCourse(course);\n      return;\n    }\n    CoursesAPI.updateStatus(_id, status).then(c => {\n      if (c === null) {\n        return;\n      }\n      this.setState((state) => {\n        return {\n          courses: state.courses.filter((c) => c._id !== course._id),\n        };\n      }, () => {\n        this.setState({\n          courses: this.state.courses.concat(c)\n        });\n      });\n\n    });\n  }\n\n  addCourse = (course) => {\n    CoursesAPI.add(course).then((c) => {\n      if (c === null) {\n        alert(\"Error adding Course\");\n        return;\n      }\n      this.setState({\n        courses: this.state.courses.concat(c)\n      });\n    });\n  };\n\n  addCourseLocally = (course) => {\n    this.setState({\n      courses: this.state.courses.concat(course)\n    });\n  }\n\n  removeCourse = (course) => {\n    this.setState((state) => {\n      return {\n        courses: state.courses.filter((c) => c._id !== course._id),\n      };\n    });\n    CoursesAPI.remove(course._id).then(r => {\n      if (r === null) {\n        alert(\"Error removing course\");\n      }\n    });\n  };\n\n  removeCourseLocally = (course) => {\n    this.setState((state) => {\n      return {\n        courses: state.courses.filter((c) => c._id !== course._id),\n      };\n    });\n  }\n\n  componentDidMount() {\n    CoursesAPI.getAll().then((courses) => this.setState({ courses }));\n  }\n\n  getCourses = () => {\n    //console.log(\"Returning\", this.state.courses);\n    return this.state.courses;\n  }\n\n\n  render() {\n    const { courses, statuses}  = this.state;\n    return (\n      /**\n       * TODO: Refactor this code to reusable React components\n       */\n      <div className=\"app\">\n        {\n          <Switch>\n            <Route exact path=\"/\">\n              <div className=\"list-courses\">\n                <div className=\"list-courses-title\">\n                  <h1>My Courses</h1>\n                </div>\n                <div className=\"list-courses-content\">\n                  <div>\n                    {\n                      statuses.map(\n                          (status, index) => {\n                            return (\n                                <CourseCategory\n                                    courses={courses}\n                                    status={status}\n                                    onCourseUpdate={this.onCourseUpdate}\n                                    key={index}\n                                />);\n                          }\n                      )\n                    }\n                  </div>\n                </div>\n                <div className=\"open-search\">\n                  <Link to=\"/search\">\n                    <button/>\n                  </Link>\n                </div>\n              </div>\n            </Route>\n            <Route exact path=\"/search\">\n                <SearchPage\n                    onCourseUpdate={this.onCourseUpdate}\n                    getCourses={this.getCourses}\n                    addCourse={this.addCourseLocally}\n                    removeCourse={this.removeCourseLocally}\n                />\n            </Route>\n          </Switch>\n        }\n      </div>\n    );\n  }\n}\n\nexport default CourseApp;\n"]},"metadata":{},"sourceType":"module"}