{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/braydenarcher/Desktop/Full-Stack Javascript/hw4-CrackingOne933/src/App.js\";\nimport React, { Component } from \"react\";\nimport { Route, Switch } from \"react-router\";\nimport \"./App.css\";\nimport * as CoursesAPI from \"./CoursesAPI.js\";\nimport SearchPage from \"./Search\";\nimport { Link } from \"react-router-dom\";\nimport CourseCategory from \"./CourseCategory\";\n/*const sample = [\n  {\n    \"status\": \"taken\",\n    \"title\": \"Intermediate Programming\",\n    \"number\": \"601.220\",\n    \"term\": \"Spring 2020\"\n  },\n  {\n    \"status\": \"interested\",\n    \"title\": \"Object Oriented Software Engineering\",\n    \"number\": \"601.421\",\n    \"term\": \"Spring 2021\"\n  },\n  {\n    \"status\": \"taken\",\n    \"title\": \"Data Structures\",\n    \"number\": \"601.226\",\n    \"term\": \"Spring 2020\"\n  },\n  {\n    \"status\": \"enrolled\",\n    \"title\": \"Full-Stack JavaScript\",\n    \"number\": \"601.280\",\n    \"term\": \"Fall 2020\"\n  },\n  {\n    \"status\": \"taken\",\n    \"title\": \"Gateway Computing: JAVA\",\n    \"number\": \"500.112\",\n    \"term\": \"Fall 2019\"\n  }\n];\nsample.forEach((course) => {\n  CoursesAPI.add(course).then(r => console.log(r));\n});*/\n//REMOVE BEFORE SUBMITTING\n\nconst statuses = [\"enrolled\", \"interested\", \"taken\"];\n\nclass CourseApp extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      courses: []\n    };\n\n    this.onCourseUpdate = (course, status) => {\n      //If a course's status is changed\n      const {\n        _id\n      } = course; //Get the courses id\n\n      if (status === \"none\") {\n        //If the status is none then\n        this.removeCourse(course); //Remove the course from dashboard and API\n\n        return; //and exit\n      }\n\n      CoursesAPI.updateStatus(_id, status).then(c => {\n        //Update the status in the API\n        if (c === null) {\n          //If API failed just return\n          return;\n        }\n\n        this.setState(state => {\n          //Otherwise add the returned course to the state\n          return {\n            courses: state.courses.filter(c => c._id !== course._id) //by removing the course from before\n\n          };\n        }, () => {\n          this.setState({\n            courses: this.state.courses.concat(c) //and adding a new one\n            // (because its easy and idk how to directly change the status)\n\n          });\n        });\n      });\n    };\n\n    this.addCourse = course => {\n      //Add a course\n      CoursesAPI.add(course).then(c => {\n        //Use API to add it\n        if (c === null) {\n          //If it failed just return\n          return;\n        }\n\n        this.setState({\n          //Set state with new received course locally\n          courses: this.state.courses.concat(c)\n        });\n      });\n    };\n\n    this.addCourseLocally = course => {\n      //A method for JUST adding the course locally, for outside use\n      this.setState({\n        courses: this.state.courses.concat(course)\n      });\n    };\n\n    this.removeCourse = course => {\n      //Remove a course\n      this.setState(state => {\n        //Remove locally\n        return {\n          courses: state.courses.filter(c => c._id !== course._id)\n        };\n      });\n      CoursesAPI.remove(course._id).then(r => {}); //Then remove it from the API\n    };\n\n    this.removeCourseLocally = course => {\n      //A method for JUST removing the course locally, for outside use\n      this.setState(state => {\n        return {\n          courses: state.courses.filter(c => c._id !== course._id)\n        };\n      });\n    };\n\n    this.getCourses = () => {\n      //Just returns the courses from here, for outside use\n      return this.state.courses;\n    };\n  }\n\n  componentDidMount() {\n    //On mount update courses with database\n    CoursesAPI.getAll().then(courses => this.setState({\n      courses\n    }));\n  }\n\n  render() {\n    const {\n      courses\n    } = this.state;\n    return (\n      /*#__PURE__*/\n\n      /**\n       * TODO: Refactor this code to reusable React components\n       */\n      _jsxDEV(\"div\", {\n        className: \"app\",\n        children: /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"list-courses\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"list-courses-title\",\n                children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                  children: \"My Courses\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"list-courses-content\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: statuses.map( //Map each status to a section\n                  (status, index) => {\n                    return /*#__PURE__*/_jsxDEV(CourseCategory //Return a course category for each status\n                    , {\n                      courses: courses //feed the courses\n                      ,\n                      status: status //feed the status\n                      ,\n                      onCourseUpdate: this.onCourseUpdate //Feed the update method\n\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 138,\n                      columnNumber: 33\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"open-search\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/search\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/search\",\n            children: /*#__PURE__*/_jsxDEV(SearchPage //Create a search page\n            , {\n              onCourseUpdate: this.onCourseUpdate //function to update status here\n              ,\n              getCourses: this.getCourses //function to get courses\n              ,\n              addCourse: this.addCourseLocally //function to add to local courses here\n              ,\n              removeCourse: this.removeCourseLocally //function to remove local courses here\n\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }, this)\n    );\n  }\n\n}\n\nexport default CourseApp;","map":{"version":3,"sources":["/Users/braydenarcher/Desktop/Full-Stack Javascript/hw4-CrackingOne933/src/App.js"],"names":["React","Component","Route","Switch","CoursesAPI","SearchPage","Link","CourseCategory","statuses","CourseApp","state","courses","onCourseUpdate","course","status","_id","removeCourse","updateStatus","then","c","setState","filter","concat","addCourse","add","addCourseLocally","remove","r","removeCourseLocally","getCourses","componentDidMount","getAll","render","map","index"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Route, Switch } from \"react-router\";\nimport \"./App.css\";\nimport * as CoursesAPI from \"./CoursesAPI.js\";\nimport SearchPage from \"./Search\";\nimport { Link } from \"react-router-dom\";\nimport CourseCategory from \"./CourseCategory\";\n\n/*const sample = [\n  {\n    \"status\": \"taken\",\n    \"title\": \"Intermediate Programming\",\n    \"number\": \"601.220\",\n    \"term\": \"Spring 2020\"\n  },\n  {\n    \"status\": \"interested\",\n    \"title\": \"Object Oriented Software Engineering\",\n    \"number\": \"601.421\",\n    \"term\": \"Spring 2021\"\n  },\n  {\n    \"status\": \"taken\",\n    \"title\": \"Data Structures\",\n    \"number\": \"601.226\",\n    \"term\": \"Spring 2020\"\n  },\n  {\n    \"status\": \"enrolled\",\n    \"title\": \"Full-Stack JavaScript\",\n    \"number\": \"601.280\",\n    \"term\": \"Fall 2020\"\n  },\n  {\n    \"status\": \"taken\",\n    \"title\": \"Gateway Computing: JAVA\",\n    \"number\": \"500.112\",\n    \"term\": \"Fall 2019\"\n  }\n];\nsample.forEach((course) => {\n  CoursesAPI.add(course).then(r => console.log(r));\n});*/ //REMOVE BEFORE SUBMITTING\nconst statuses = [\"enrolled\", \"interested\", \"taken\"]\nclass CourseApp extends Component {\n  state = {\n    courses: [\n    ],\n  };\n\n  onCourseUpdate = (course, status) => { //If a course's status is changed\n    const { _id } = course; //Get the courses id\n    if (status === \"none\") {  //If the status is none then\n      this.removeCourse(course); //Remove the course from dashboard and API\n      return; //and exit\n    }\n    CoursesAPI.updateStatus(_id, status).then(c => { //Update the status in the API\n      if (c === null) { //If API failed just return\n        return;\n      }\n      this.setState((state) => { //Otherwise add the returned course to the state\n        return {\n          courses: state.courses.filter((c) => c._id !== course._id), //by removing the course from before\n        };\n      }, () => {\n        this.setState({\n          courses: this.state.courses.concat(c) //and adding a new one\n          // (because its easy and idk how to directly change the status)\n        });\n      });\n\n    });\n  }\n\n  addCourse = (course) => { //Add a course\n    CoursesAPI.add(course).then((c) => { //Use API to add it\n      if (c === null) { //If it failed just return\n        return;\n      }\n      this.setState({ //Set state with new received course locally\n        courses: this.state.courses.concat(c)\n      });\n    });\n  };\n\n  addCourseLocally = (course) => { //A method for JUST adding the course locally, for outside use\n    this.setState({\n      courses: this.state.courses.concat(course)\n    });\n  }\n\n  removeCourse = (course) => { //Remove a course\n    this.setState((state) => { //Remove locally\n      return {\n        courses: state.courses.filter((c) => c._id !== course._id),\n      };\n    });\n    CoursesAPI.remove(course._id).then(r => {}); //Then remove it from the API\n  };\n\n  removeCourseLocally = (course) => { //A method for JUST removing the course locally, for outside use\n    this.setState((state) => {\n      return {\n        courses: state.courses.filter((c) => c._id !== course._id),\n      };\n    });\n  }\n\n  componentDidMount() { //On mount update courses with database\n    CoursesAPI.getAll().then((courses) => this.setState({ courses }));\n  }\n\n  getCourses = () => { //Just returns the courses from here, for outside use\n    return this.state.courses;\n  }\n\n\n  render() {\n    const { courses }  = this.state;\n    return (\n      /**\n       * TODO: Refactor this code to reusable React components\n       */\n      <div className=\"app\">\n        {\n          <Switch>\n            <Route exact path=\"/\">\n              <div className=\"list-courses\">\n                <div className=\"list-courses-title\">\n                  <h1>My Courses</h1>\n                </div>\n                <div className=\"list-courses-content\">\n                  <div>\n                    {\n                      statuses.map( //Map each status to a section\n                          (status, index) => {\n                            return (\n                                <CourseCategory //Return a course category for each status\n                                    courses={courses} //feed the courses\n                                    status={status} //feed the status\n                                    onCourseUpdate={this.onCourseUpdate} //Feed the update method\n                                    key={index} //Feed index for logistic reasons\n                                />);\n                          }\n                      )\n                    }\n                  </div>\n                </div>\n                <div className=\"open-search\">\n                  <Link to=\"/search\">\n                    <button/>\n                  </Link>\n                </div>\n              </div>\n            </Route>\n            <Route exact path=\"/search\">\n                <SearchPage //Create a search page\n                    onCourseUpdate={this.onCourseUpdate} //function to update status here\n                    getCourses={this.getCourses} //function to get courses\n                    addCourse={this.addCourseLocally} //function to add to local courses here\n                    removeCourse={this.removeCourseLocally} //function to remove local courses here\n                />\n            </Route>\n          </Switch>\n        }\n      </div>\n    );\n  }\n}\n\nexport default CourseApp;\n"]},"metadata":{},"sourceType":"module"}